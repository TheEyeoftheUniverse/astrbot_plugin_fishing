{% extends "user_layout.html" %}

{% block content %}
<h4 class="mb-4"><i class="fas fa-id-card me-2"></i>个人资料</h4>

<div class="row">
    <div class="col-lg-3">
        <div class="card shadow-sm text-center">
            <div class="card-body">
                <div style="font-size: 4rem; margin: 20px 0;">
                    <i class="fas fa-user-circle" style="color: #667eea;"></i>
                </div>
                <h5>{{ user.nickname }}</h5>
                <p class="text-muted">QQ号: {{ user.user_id }}</p>
            </div>
        </div>
    </div>

    <div class="col-lg-9">
        <div class="card shadow-sm">
            <div class="card-header bg-light">
                <h6 class="mb-0">账户信息</h6>
            </div>
            <div class="card-body">
                <div class="row mb-3">
                    <div class="col-md-6">
                        <p><strong>注册时间:</strong> {{ user.created_at.strftime('%Y-%m-%d %H:%M:%S') }}</p>
                        <p><strong>连续登录:</strong> {{ user.consecutive_login_days }} 天</p>
                    </div>
                    <div class="col-md-6">
                        <p><strong>当前昵称:</strong> {{ user.nickname }}</p>
                        <p><strong>当前等级:</strong> 玩家</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="card shadow-sm mt-3">
            <div class="card-header bg-light">
                <h6 class="mb-0">游戏统计</h6>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4">
                        <p><i class="fas fa-water me-2" style="color: #667eea;"></i><strong>钓鱼次数:</strong> {{ "{:,}".format(user.total_fishing_count) }}</p>
                    </div>
                    <div class="col-md-4">
                        <p><i class="fas fa-weight me-2" style="color: #667eea;"></i><strong>总重量:</strong> {{ "{:,}".format(user.total_weight_caught) }} kg</p>
                    </div>
                    <div class="col-md-4">
                        <p><i class="fas fa-coins me-2" style="color: #f39c12;"></i><strong>历史最高:</strong> {{ "{:,}".format(user.max_coins) }} 金币</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="card shadow-sm mt-3">
            <div class="card-header bg-light">
                <h6 class="mb-0">装备信息</h6>
            </div>
            <div class="card-body">
                <p><strong>当前鱼竿:</strong> {% if user.equipped_rod_instance_id %}装备中{% else %}<span class="text-muted">未装备</span>{% endif %}</p>
                <p><strong>当前饰品:</strong> {% if user.equipped_accessory_instance_id %}装备中{% else %}<span class="text-muted">未装备</span>{% endif %}</p>
                <p><strong>当前鱼饵:</strong> {% if user.current_bait_id %}使用中{% else %}<span class="text-muted">未使用</span>{% endif %}</p>
                <p><strong>当前称号:</strong> {% if user.current_title_id %}已设置{% else %}<span class="text-muted">未设置</span>{% endif %}</p>
            </div>
        </div>
    </div>
</div>

{% endblock %}
